# Boink Prediction Bot

Софт для автоматической работы с предикшн‑маркетом `https://prediction.boinknfts.club`.

Актуальная версия **без фаусетов**: только дейлик, ставки и сбор статистики.  
Все новые аккаунты автоматически регистрируются под реферальным кодом `BA08NOBF`.

## Возможности

- ✅ Поддержка **нескольких кошельков** и прокси для каждого
- ✅ Режим **дейлика**: клейм ежедневной награды по всем кошелькам
- ✅ Режим **ставок**: 1–N ставок (рандом в заданном диапазоне) с рандомным интервалом между ставками
- ✅ Режим **статистики**: сбор XP по всем аккаунтам в таблицу (с итогами и средним значением)
- ✅ Рефералка: все кошельки регистрируются под кодом `BA08NOBF` (зашито в код)
- ✅ Красивые цветные логи и итоговая статистика

## Установка

1. Установите Python **3.8+**.
2. Установите зависимости:

```bash
pip install -r requirements.txt
```

3. Подготовьте файлы в корне проекта:
   - `private_keys.txt` – приватные ключи (обязательно)
   - `wallets.txt` – адреса кошельков (опционально, для проверки соответствия)
   - `proxies.txt` – прокси (опционально)
   - `.env` – настройки (на основе `env_example.txt`)

## Конфигурация

Все основные настройки берутся из `.env`. Пример – в `env_example.txt`.

### Файлы с доступами

- `private_keys.txt` – **обязательно**
  - один приватный ключ в строке
  - формат: hex‑строка длиной 64 символа (`0x` можно, можно без)
  - адреса кошельков извлекаются **автоматически** из ключей

- `wallets.txt` – опционально
  - адреса в формате `0x...` (42 символа)
  - используется только для проверки, что адреса совпадают с теми, что получены из ключей

- `proxies.txt` – опционально
  - один прокси на строку
  - формат без авторизации: `host:port`
  - формат с авторизацией: `user:pass@host:port`
  - первый прокси → первый кошелек, второй → второй и т.д.

Все эти файлы уже добавлены в `.gitignore` и **не попадают в репозиторий**.

### Переменные в `.env`

- `API_BASE_URL` – базовый URL API (по умолчанию `https://inkpredict.vercel.app/api`)
- `MARKET_ID` – ID дефолтного маркета, если `RANDOM_MARKETS=false`
- `MIN_BET_AMOUNT` – минимальная сумма ставки
- `MAX_BET_AMOUNT` – максимальная сумма ставки
- `MIN_BETS_COUNT` – минимальное количество ставок **за один запуск режима ставок**
- `MAX_BETS_COUNT` – максимальное количество ставок **за один запуск**
- `MIN_BET_INTERVAL_SECONDS` – минимальный интервал между ставками (CD)
- `MAX_BET_INTERVAL_SECONDS` – максимальный интервал между ставками
- `RANDOM_MARKETS` – `true/false`, выбирать ли случайные маркеты или фиксированный `MARKET_ID`
- `LOG_LEVEL` – уровень логирования (`INFO` по умолчанию)

Пример – см. `env_example.txt` в репозитории.

## Режимы работы

При запуске:

```bash
python main.py
```

появится меню:

- `1` – **Настройка**: читает `private_keys.txt` / `wallets.txt` / `proxies.txt`, показывает связки кошелек‑ключ‑прокси.
- `2` – **Дейлик**:
  - для каждого кошелька:
    - регистрация под рефкодом `BA08NOBF` (через API + реф‑линк)
    - проверка CD
    - попытка клейма ежедневной награды
  - сообщения вида «Already claimed / come back tomorrow» обрабатываются как предупреждение, а не ошибка.

- `3` – **Ставки** (основной режим):
  - сначала при необходимости ищет доступные маркеты (`RANDOM_MARKETS=true`)
  - для каждого кошелька:
    - один раз регистрирует рефералку `BA08NOBF`
  - дальше:
    - для каждого кошелька выбирается случайное количество ставок `bets_count` в диапазоне `MIN_BETS_COUNT…MAX_BETS_COUNT`
    - для каждой ставки:
      - сумма берётся случайно из диапазона `MIN_BET_AMOUNT…MAX_BET_AMOUNT`
      - маркет – либо случайный из списка доступных, либо фиксированный `MARKET_ID`
      - исход определяется стратегией (`analyze_market` + рандом)
      - между ставками ждётся случайный интервал `MIN_BET_INTERVAL_SECONDS…MAX_BET_INTERVAL_SECONDS`
  - после выполнения всех ставок показывается итоговая статистика (всего/успешных/неудачных) и режим завершается.

- `4` – **Статистика (XP)**:
  - по каждому кошельку:
    - вызывает `/user/{address}/stats`
    - достаёт XP из вложенного `stats` (поддерживает разные ключи: `xp`, `XP`, `experience` и т.п.)
  - выводит:
    - общее количество кошельков
    - суммарный XP
    - средний XP на кошелек
    - таблицу по всем адресам.

- `0` – Выход.

## Стратегия ставок

Реализована в `trader.py`:

- Бот получает список ставок по маркету и считает объёмы по YES/NO.
- Если по YES поставлено больше – выбирает NO, если по NO – YES (игра против большинства).
- При отсутствии данных или ошибке – делает случайный выбор YES/NO.

Логи по ставкам и статусу работы (`INFO/SUCCESS/WARNING/ERROR`) выводятся в консоль и пишутся в `trader.log`.

## Безопасность и предупреждения

- **Никогда** не заливайте `private_keys.txt`, `wallets.txt`, `proxies.txt`, `.env` в публичный репозиторий.
- Проверяйте, что используете **правильные ключи и сеть** (тестнет / мейннет).
- Начинайте с минимальных сумм, чтобы проверить, как ведёт себя API и стратегия.

Софт разрабатывался под конкретный предикшн‑маркет Boink, поэтому при изменениях API могут понадобиться правки в `api_client.py` и `trader.py`.*** End Patch***}﻿
